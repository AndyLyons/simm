"use strict";function n(n){return n instanceof Array?n:"string"==typeof n?n.split("."):l}function t(n,t){return n.reduceRight(function(n,t){var e=Object.create(null);return e[t]=n,e},t)}function e(n,t,r){if(0===r.length)return t;var u=n.find(t),c=r[0];return u.has(t,c)?e(n,u.get(t,c),r.slice(1)):void 0}function r(n,t,r){return u(n,e(n,t,r))}function u(n,t){for(var e=n.find(t),r=e.new(t),u=e.keys(t),c=0,o=u.length;c<o;){var i=u[c++],f=r(n,e.get(t,i));e.set(r,i,f)}return r}function c(n,e,r,u){if(0===r.length)return u;var o=n.find(e),i=r[0],f=void 0;return f=o.has(e,i)?c(n,o.get(e,i),r.slice(1),u):t(r,u),o.set(e,i,f)}function o(n,t,e,r){}function i(n,t,e){}function f(n){var t=WeakMap&&new WeakMap,e={find:function(e){if(t&&t.has(e))return t.get(e);for(var r=d,u=0,c=n.length;u<c;){var o=n[u++];if(o.matches(e)){r=o;break}}return t&&t.set(e,r),r},matches:function(){return!0},has:function(n){var t=e.find(n);return t.has.apply(t,arguments)},keys:function(n){var t=e.find(n);return t.keys.apply(t,arguments)},get:function(n){var t=e.find(n);return t.get.apply(t,arguments)},set:function(n){var t=e.find(n);return t.set.apply(t,arguments)},merge:function(n){var t=e.find(n);return t.merge.apply(t,arguments)},delete:function(n){var t=e.find(n);return t.delete.apply(t,arguments)},new:function(n){var t=e.find(n);return t.new.apply(t,arguments)}};return e}function a(t){var a=f(t.processors);return{get:function(t,r){return e(a,t,n(r))},clone:function(n){return u(a,n)},cloneAt:function(t,e){return r(a,t,n(e))},set:function(n,t){return c(a,n,v,t)},setAt:function(t,e,r){return c(a,t,n(e),r)},merge:function(n,t){return o(a,n,v,t)},mergeAt:function(t,e,r){return o(a,t,n(e),r)},remove:function(t,e){return i(a,t,n(e))},createStore:function(n){return s(a,n)}}}function s(t,f){return{get:function(r){return e(t,f,n(r))},clone:function(){return u(t,f)},cloneAt:function(e){return r(t,f,n(e))},set:function(n){return f=c(t,f,v,n)},setAt:function(e,r){return f=c(t,f,n(e),r)},merge:function(n){return f=o(t,f,v,n)},mergeAt:function(e,r){return f=o(t,f,n(e),r)},remove:function(e){return f=i(t,f,n(e))}}}var l=[],g=[],p={matches:function(n){return n instanceof Array},has:function(n,t){return p.keys(n).indexOf(t)>=0},keys:function(n){return Object.keys(n)},get:function(n,t){return n[t]},set:function(n,t,e){return n[t]=e,n},merge:function(){return g.concat.apply(g,arguments)},delete:function(n,t){return n.splice(t,1),n},new:function(){return[]}},y=[],d={matches:function(){return!0},has:function(){return!1},keys:function(){return y},get:function(){},set:function(n){return n},merge:function(n){return n},delete:function(n){return n},new:function(n){return n}},v=[],h=a({processors:[{matches:function(n){return null!=n&&"object"==typeof n&&(Object.getPrototypeOf(n)===Object.prototype||null===Object.getPrototypeOf(n))},has:function(n,t){return t in n},keys:function(n){return Object.keys(n)},get:function(n,t){return n[t]},set:function(n,t,e){return n[t]=e,n},merge:function(){return Object.assign.apply(arguments)},delete:function(n,t){return delete n[t],n},new:function(n){return Object.create(Object.getPrototypeOf(n))}},p],aggressive:!1});h.configure=a,module.exports=h;